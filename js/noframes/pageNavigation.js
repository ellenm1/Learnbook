if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}}var testing=false;var busy=false;if($("div.nav-no-collapse.header-nav .breadcrumb").length>0){$("div.nav-no-collapse.header-nav .breadcrumb").empty()}var dialogCloseTrigger="";(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-65717029-1","auto");ga("send","pageview");var pItem=qsParm.itm?qsParm.itm:null;var saveStorage=qsParm.ls?true:false;var dl=qsParm.dl?qsParm.dl:null;var pScore,pMax;var isScorm=true;var sName=((SCOGetValue("cmi.core.student_id"))+"");var sDetails=((SCOGetValue("cmi.core.student_name"))+"");var quizStats=qsParm.zg?qsParm.zg:null;if(quizStats){var g_objAPI=FindAPI(window.parent);if(testing){console.log("XET decode64(quizSt)= "+decode64(quizStats))}pScore=decode64(quizStats).split("&")[0];pScore=pScore.split("=")[1];pMax=typeof decode64(quizStats).split("&")[1]!="undefined"?decode64(quizStats).split("&")[1]:null;if(pMax!=null){pMax=pMax.split("=")[1]}if(testing){console.log("AAG pScore="+pScore+",pMax="+pMax)}}var pageNo,currentPage,znThisPage,znNextPage,znPrevPage,znPages;var thispage=(document.location.href);var justpath=window.location.pathname;var lastslash=(window.location.pathname.lastIndexOf("/")+1);var justpathnofilename=window.location.pathname.substring("/",lastslash-1);var thispathUnEnc=window.location.protocol+"//"+window.location.hostname+window.location.pathname.substring("/",lastslash-1);var thispath=encodeURIComponent(window.location.pathname.substring("/",lastslash-1));thispath=thispath.substring(3);var ns=$.initNamespaceStorage(thispath);if((ns.localStorage)&&(!saveStorage)&&(!quizStats)){ns.localStorage.removeAll();if(testing){"saveStorage = "+saveStorage+", just removed existing storage"}}var cleanURL;var pcounter=0,pcounter2=0,pcounter3=0;var thePageArray=typeof PageArray!="undefined"?PageArray:"";var znModuleType,znDocTitle,znHeaderTitle,znRecommendedMsg,znCompletedMsg,znRequiredMsg,znContentExpert,znContentExpertName,znContentExpertEmail,modulevars,showExpander;var znContentExpertHTML="";var ps,ms,ints;znQuizSetupDone=(typeof quizSetupDone!="undefined")?quizSetupDone:true;znVrsnDone=(typeof vrsnDone!="undefined")?vrsnDone:true;znJustOpened=false;znModuleType=(typeof moduletype!="undefined")?moduletype:2;znRecommendedMsg=(typeof recommendedMsg!="undefined")?recommendedMsg:"Recommended";znRequiredMsg=(typeof requiredMsg!="undefined")?requiredMsg:"Required";znCompletedMsg=(typeof completedMsg!="undefined")?completedMsg:"Completed";znDocTitle=(typeof docTitle!="undefined")?docTitle:"";znHeaderTitle=(typeof headerTitle!="undefined")?headerTitle:"";znContentExpert=(typeof contentExpert!="undefined")?contentExpert:"";znContentExpertEmail=(typeof contentExpertEmail!="undefined")?contentExpertEmail:"";znContentExpertName=(typeof contentExpertName!="undefined")?contentExpertName:"";znVersion=(typeof zVrsn!="undefined")?zVrsn:"1";if(ns.localStorage.isSet("pageArray")){ps=ns.localStorage.get("pageArray")}else{ns.localStorage.set("pageArray",thePageArray);ps=ns.localStorage.get("pageArray")}if(ns.localStorage.isSet("moduleVars")){ms=ns.localStorage.get("moduleVars")}else{modulevars={quizSetupDone:znQuizSetupDone,vrsnDone:znVrsnDone,justOpened:znJustOpened,docTitle:znDocTitle,headerTitle:znHeaderTitle,moduletype:znModuleType,recommendedMsg:znRecommendedMsg,requiredMsg:znRequiredMsg,completedMsg:znCompletedMsg,contentExpert:znContentExpert,contentExpertEmail:znContentExpertEmail,contentExpertName:znContentExpertName,version:znVersion};ns.localStorage.set("moduleVars",modulevars);ms=ns.localStorage.get("moduleVars");justOpened=false}function printNavBar(){var A="",z="",e,g="";ps=ns.localStorage.get("pageArray");znPages=ps.length;e=('<div class="nav-collapse sidebar-nav">\n<ul class="nav nav-tabs nav-stacked main-menu">');getCurrentPage();e+=printNavToggle();e+=printExpander(1);determineParents();for(var y=0;y<ps.length;y++){var n=znThisPage-1;var s=ps[y],v=(y+1),u=(y-1);var m=ps[v],B=ps[u];var c=s.level;if(c>1){showExpander="block"}var q=(s.quiz)?"quiz":"notquiz";var w="";var o=s.chapter;var C=s.isParent!="undefined"?s.isParent:"";var f=s.branch;var r=s.url;var h=s.url+"&itm="+y;var d=s.buttonTitle;var l=s.pageTitle;var b="closed";var t="";if(r=="scorePage.htm"){w="isScorePage";d="Submit Score & Complete"}if(typeof znThisPage=="undefined"){znThisPage=ps[0]}if(y==znThisPage){t="active";b="open"}if(c==1){b="open"}else{if(ps[znThisPage].level>c&&ps[znThisPage].chapter==o&&ps[znThisPage].branch==f){b="open"}else{if(ps[znThisPage].branch==f&&(ps[znThisPage].level==c||c==parseFloat(ps[znThisPage].level+1))){b="open"}else{if(ps[znThisPage].chapter==o&&c==2){b="open"}else{b="closed"}}}}e+=("<li>");e+=('<a id="itm'+y+'" class="navlevel'+c+" "+t+"  chapter"+o+" "+b+" "+C+" "+q+" "+w+'" title="'+h+'">');
e+=('<span class="hidden-tablet">');e+=d;e+=("</span></a></li>");if((q=="notquiz")&&(r!="scorePage.htm")){g+=r+";"}else{if((ps[znThisPage].type=="C6")||(ps[znThisPage].type=="I")){g+=r+";"}}}e+=printExpander(2);e+=printScormButtons();e+=printContentExpert();e+=printFeedbackLink();e+=printContactInfo();e+=("</ul></div>");if((trackingmode=="scorm")&&APIOK()&&(ms.quizSetupDone!=true)){setupQuizzes()}$("#sidebar-left").append(e);$("#sidebar-left li a[id^='itm']").click(function(){var j=this.id.substring(3);ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"navbutton id "+j+" |  page/"+justpathnofilename+"/"+ps[j].url});ga("send",{hitType:"pageview",page:justpathnofilename+"/"+ps[j].url,title:ps[j].buttonTitle});var i={itm:j};getContent(i)});$(".expander").click(function(){toggleByChapter()});$(".expander").css("display",showExpander);if((trackingmode=="scorm")&&!APIOK()&&pageNo==1){$("#apiIndicator").mousedown(function(){$("#modeExplanationContainer").toggle()});$("#apiIndicator").mouseout(function(){$("#modeExplanationContainer").hide()});var a="<div id='modal-header' style='color:red;width:300px;'>READ-ONLY MODE - NO DATA IS BEING RECORDED</div><div id='modal-body'>IMPORTANT! You are not connected to MLearning right now. ";a+="This means no data will be recorded: the learning module is in read-only mode. If this is not what you wanted, please close all browser windows and log back in to MLearning.</div>";$("#dialog-modal").html(a);openModalDialog("#dialog-modal")}writeNewPageNo();writePrintForm(g);writeHeaderTitle();SCOBookmark();writeDocTitle();printEndmatterFeedbackLink()}function getCurrentPage(){if((typeof pItem!="undefined")&&(pItem!=null)){ns.localStorage.set("znThisPage",pItem);document.location.href="index.htm?ls=1";if(testing){"HNP ns.localStorage.get(znthispage)="+ns.localStorage.get("znThisPage")}}else{if((typeof dl!="undefined")&&(dl!=null)){}}znThisPage=ns.localStorage.isSet("znThisPage")?ns.localStorage.get("znThisPage"):0;znPrevPage=parseFloat(znThisPage)-1;znNextPage=parseFloat(znThisPage)+1;znThisPage==ps.length-1?$(".navbar .nextbtn").hide():$(".navbar .nextbtn").show();znThisPage==0?$(".navbar .prevbtn ,.footer-nav .prevbtn").hide():$(".navbar .prevbtn ,.footer-nav .prevbtn").show();pageNo=parseFloat(znThisPage)+1;currentPage=thePageArray[znThisPage];return znThisPage,currentPage}function getIndexOfDeepLink(d){var c=ns.localStorage.get("pageArray");var b=null;for(var e=0,a=c.length;e<a;e++){if(testing){console.log("deep link dl="+d+" and i ="+e)}if(c[e].url.toLowerCase()===d.toLowerCase()){b=e;return b}}if(b==null){alert("This filename is not part of the current module structure. Navigating to first page of module");b=0}return b}function getContent(u){var l=(typeof u.itm!="undefined")?u.itm:null;var q=(typeof u.dl!="undefined")?u.dl:null;function b(w,e){$("#content div#div6").load(e+"?ts="+a+" #content > *",function(A,B,z){if(A==""){var x;var y=confirm("Your session seems to have timed out so you will have to log in again. Your work is saved.");if(y==true){location.reload()}else{location.reload()}}$("#sidebar-left li a[id^='itm']").css("background-color","");$("#sidebar-left li a#itm"+w).css("background-color","orange");znNextPage=parseFloat(w)+1;znPrevPage=parseFloat(w)-1;wipePageNo();if(e=="scorePage.htm"){scoreQuizzes();$(".gothereLink,.tryagainLink, .failedLink").click(function(){var D=this.id.substring(4);ns.localStorage.set("znThisPage",D);var C={sScore:0,qurl:ps[D].url,quiz:ps[D].quiz,type:ps[D].type,qindex:D};znThisPage=C.qindex;znNextPage=parseFloat(C.qindex)+1;znPrevPage=parseFloat(C.qindex)-1;wipePageNo();wipeNavBar();printNavBar();quizStart(C);scormDivToggle();checkDataAttr();writeFlash()})}checkDataAttr();writeFlash();scormDivToggle();customFunction03();customFunction04();wipeNavBar();printNavBar();changeLinks(function(){if(testing){console.log("links changed")}})})}window.scrollTo(0,0);if((q)&&(l==null||typeof l=="undefined")){if(typeof q!="undefined"&&q!=null){if(q=="index.htm"){l=0}else{l=getIndexOfDeepLink(q);var p=document.location.href;if(qsParm.itm&&qsParm.itm!=l){document.location=p.substring(0,p.lastIndexOf("/"))+"/index.htm?itm="+l}}}}if(l==null||typeof l=="undefined"){l=0}if(typeof ns.localStorage!="undefined"){ns.localStorage.set("znThisPage",l)}else{setTimeout(function(){ns.localStorage.set("znThisPage",l);console.log("Waited 1 second for local storage to appear")},1000)}znThisPage=l;try{var t=ns.localStorage.get("pageArray")[znThisPage];if(testing){"TRE in try catch"}}catch(r){if(testing){console.log("exception was"+r)}setTimeout(function(){var e=ns.localStorage.get("pageArray")[znThisPage]},1000)}var s=t.url;var v=t.quiz;var o=t.type;var d=t.score;var n=t.max;var i=t.countscore;var m=o+v;var c=t.svr;customFunction01();if(typeof v!="undefined"){if(APIOK()){var g=(typeof SCOGetObjectiveData(m,"score.raw")!="undefined")?(SCOGetObjectiveData(m,"score.raw")):d;var h=(typeof SCOGetObjectiveData(m,"score.max")!="undefined")?(SCOGetObjectiveData(m,"score.max")):n
}else{var g=(typeof d!="undefined")?d:null}if((o=="Q")||(typeof o=="undefined")){u={sMax:n,sScore:parseFloat(g),quiz:v,quizserver:c,type:(typeof o=="undefined"?"Q":o),qindex:l};if(g==null||isNaN(parseFloat(g))||typeof g=="undefined"){quizStart(u)}else{showTryAgainMsg(u)}}else{if(o=="U"){u={sMax:n,sScore:parseFloat(g),qurl:s,quiz:v,type:"U",qindex:l};if(g==null||isNaN(parseFloat(g))||typeof g=="undefined"){quizStart(u)}else{showTryAgainMsg(u)}}else{if(o=="I"){var a=Math.round(new Date().getTime()/1000);$("#content div#div6").load(s+"?ts="+a+" #content > *",function(w,x,e){$("#sidebar-left li a[id^='itm']").css("background-color","");$("#sidebar-left li a#itm"+l).css("background-color","orange");znNextPage=parseFloat(znThisPage)+1;znPrevPage=parseFloat(znThisPage)-1;wipePageNo();wipeNavBar();printNavBar();changeLinks(setUpInteractions);scormDivToggle();checkDataAttr();writeFlash()})}else{if(o=="C"){var j=(s.indexOf("captivate6Wrap")!=-1)?"C6":"C";u={sScore:parseFloat(g),qurl:s,quiz:v,type:o,qindex:l};if(g==null||isNaN(parseFloat(g))||typeof g=="undefined"){quizStart(u);znNextPage=parseFloat(znThisPage)+1;znPrevPage=parseFloat(znThisPage)-1;wipePageNo();wipeNavBar();printNavBar();changeLinks(setUpInteractions);scormDivToggle();checkDataAttr();writeFlash()}else{showTryAgainMsg(u)}}else{if(o=="H"){u={sScore:parseFloat(g),qurl:s,quiz:v,type:o,qindex:l};if(g==null||isNaN(parseFloat(g))||typeof g=="undefined"){quizStart(u);znNextPage=parseFloat(znThisPage)+1;znPrevPage=parseFloat(znThisPage)-1;wipePageNo();wipeNavBar();printNavBar();changeLinks(setUpInteractions);scormDivToggle();checkDataAttr();writeFlash()}else{showTryAgainMsg(u)}}}}}}}else{try{b(l,s)}catch(k){console.error("SPV error is"+k);b(l,s)}customFunction02()}var f=window.location.pathname}function setDialogCloseTrigger(a){window.dialogCloseTrigger=a}function showTryAgainMsg(b){var c=("You already scored "+b.sScore+" points for the quiz <h1>"+ps[b.qindex].buttonTitle+".</h1> ");c+=("<p>If you wish to take this quiz again and lose the existing score, click the button below.</p>");c+=('<button class="btn btn-large btn-success" id="gtryagainbtn" alt="Erase my score and let me try again">Try Again</button>');c+=('<button class="btn btn-large btn-danger" id="gskipquizbtn" style="display:inline-box;margin-left:10px;" alt="Keep existing score, go to next page">Skip This Quiz</button>');c+=('<p style="clear:both;margin-top:10px;">This module can not be marked "Complete" until all quizlets have been attempted at least once, AND the "Send Score to MLearning" button is clicked on the <a id="">Score and Status page</a>. Quizzes may be taken multiple times.</p>');$("#dialog-modal").html(c);var a=$("#dialog-modal").dialog({dialogClass:"no-close tryagaindialog",close:function(d,e){if(dialogCloseTrigger=="skipQuizBtn"){$("#content div#div6").html('Skipping quiz. Please choose another page from the menu at left, or <a onclick="nextPage('+b.qindex+')" style="text-decoration:underline">click here to go to next page</a>');setDialogCloseTrigger("")}else{if(dialogCloseTrigger=="xBtn"){$("#content div#div6").html("Closed using X Button. Please wait while your results are stored, then the next page will load.");setDialogCloseTrigger("")}else{if(dialogCloseTrigger=="startQuizBtn"){if((b.type=="C")||(b.type=="C6")){$("#content div#div6").html("Launching Quiz");setDialogCloseTrigger("")}}}}},height:365,width:330,modal:true});openModalDialog(a);$(".tryagaindialog .ui-dialog-titlebar-close").click(function(){setDialogCloseTrigger("xBtn")});$("#gskipquizbtn").click(function(){setDialogCloseTrigger("skipQuizBtn");closeModalDialog("#dialog-modal");nextPage(b.qindex)});$("#gtryagainbtn").click(function(){var e=b.qindex;console.log("ps[params1.qindex].url="+ps[b.qindex].url+", ps[params1.qindex].quiz="+ps[b.qindex].quiz+", ps[params1.qindex].type="+ps[b.qindex].type+", params1.qindex"+b.qindex+".");var d={sScore:0,qurl:ps[e].url,quiz:ps[e].quiz,type:ps[e].type,qindex:e};znThisPage=d.qindex;console.log("AHZ znThisPage1="+znThisPage);znNextPage=parseFloat(d.qindex)+1;znPrevPage=parseFloat(d.qindex)-1;wipePageNo();wipeNavBar();printNavBar();setDialogCloseTrigger("startQuizBtn");closeModalDialog("#dialog-modal");quizStart(d)})}function checkDataAttr(){if($("[data-script]").length>0){$.each($("[data-script]"),function(){$.getScript($(this).data("script"),function(){var a=0;checkForObjects(a)})})}}function makeObjectsOpaque(){var d=document.createElement("param");d.setAttribute("name","wmode");d.setAttribute("value","opaque");var c=document.getElementsByTagName("object");for(var b=0;b<c.length;b++){var a=c[b].cloneNode(true);d=d.cloneNode(true);a.appendChild(d);c[b].parentNode.replaceChild(a,c[b])}}function checkForObjects(b){var a=document.getElementsByTagName("object");if(a.length>0){makeObjectsOpaque()}else{if(b<5){b++;setTimeout("checkForObjects("+b+")",500)}else{}}}function writeFlash(){if($("#content div#div6 noscript").length){if(IE(8)){$("#content div#div6 noscript").before($("#content div#div6 noscript").html())
}else{var a=$.parseHTML($("#content div#div6 noscript").text());$("#content div#div6 noscript").before(a)}}}function writeKalturaPlayer(){if($("div[id^='kaltura_player_']").length>0){$.each($("div[id^='kaltura_player_']"),function(){var a=this.id.substring(15);$(this).append('<h2>Please wait a moment while player loads</h2><img src="images/img/ajax-loader.gif"/>');$(this).append('<script src="https://cdnapisec.kaltura.com/p/1038472/sp/103847200/embedIframeJs/uiconf_id/20100682/partner_id/1038472?autoembed=true&playerId=kaltura_player_'+a+"&cache_st="+a+'&width=400&height=680&flashvars[playlistAPI.kpl0Id]=1_hodzk5v2"><\/script>')})}}function scormDivToggle(){if(trackingmode=="scorm"&&APIOK()){if($("#yesAPI").length){$("#yesAPI").show()}if($("#noAPI").length){$("#noAPI").hide()}}if(trackingmode=="scorm"&&!APIOK()){if($("#yesAPI").length){$("#yesAPI").hide()}if($("#noAPI").length){$("#noAPI").show()}}}function customFunction01(){}function customFunction02(){}function customFunction03(){}function customFunction04(){}function changeLinks(e){var a=$("a").not($("#sidebar-left .main-menu a")).not($("navbar-inner ul.nav .pull-right a.btn")).not($("#sidebar-left a.expander")).not($("a[target$='blank']")).not($("a[target$='new']")).not($("a[href^='mailto:']")).not($("a[href^='#']")).not($("a[data-link-change='no']")),b=a.length;while(b--){var d=a[b].href;var c=new RegExp(thispathUnEnc).test(d);if(c==true){$(a[b]).click(function(f){f.preventDefault();var g={itm:null,dl:$(this).attr("href")};getContent(g)})}}if(e){e()}}function determineParents(){var i;for(var l=0;l<ps.length;l++){if(!i){i=0}var d=ps[l];var f=(l+1);var e=(l-1);d.branch=i;var a=ps[f];var h=ps[e];var b=d.level;var c=d.chapter;var g=d.isParent;if(a){if(a.chapter==c&&a.level>b){d.branch=l;i=l;d.isParent="parent"}else{d.isParent="notParent";if(h&&b<h.level){d.branch=l;i=l}}}else{d.isParent="notParent";break}}ns.localStorage.set("pageArray",ps)}function writeDocTitle(){parent.document.title=ms.docTitle}function writeBreadCrumbs(){var a='<li class="crumb1"><i class="icon-home"></i><a href="index.htm?itm=0">Home</a><i class="icon-angle-right"></i></li><li class="crumb2"><a class="itm2">'+ps[znThisPage].title+"</a></li>";return a}function printNavToggle(){var a="";return a}var feedbackLink="http://umichumhs.qualtrics.com/SE?SID=SV_1KUWIOAlDJwhgGw&SVID=Prod&URL="+encodeURI(window.location.href)+"&TITLE="+encodeURI(ms.headerTitle)+"&EMAIL="+encodeURI(ms.contentAuthEmail);function printFeedbackLink(){var a=("<li><a href='"+feedbackLink+"' target='_blank' class='feedbackBtn'>Submit Comments or Questions</a></li>");return a}function printEndmatterFeedbackLink(){$("#feedbackinfo").length>0?$("#feedbackinfo").html("<a href= '"+feedbackLink+"' target='_blank'>Submit Comments or Questions</a>"):""}function printContentExpert(){if((typeof ms.contentExpert!="undefined")&&(ms.contentExpert!="")){var b="<li><div class=\"navContentExpert\"><ul class='expertlist'>";if(ms.contentExpert.length>1){b+="Content Experts:<br/> "}$.each(ms.contentExpert,function(d,c){b+="<a href='mailto:"+ms.contentExpert[d].email+"'>"+ms.contentExpert[d].name+"</a>";if(d<ms.contentExpert.length){b+="<br/> "}});b+="</ul></div></li>"}else{if((ms.contentExpertEmail=="")||(typeof ms.contentExpertEmail=="undefined")){var b=""}else{var a=(typeof ms.contentExpertName!="undefined")?ms.contentExpertName:"Email Content Expert";var b=('<li><div class="navContentExpert">Content Expert: <a href=\'mailto:'+ms.contentExpertEmail+"'>"+a+"</a></div></li>")}}return b}function printContactInfo(){var a=('<li><div class="navContact" title="mlearning@umich.edu 734-615-5146"><b>Contact Us</b><br>mlearninginfo@umich.edu<br>734-615-5146<br>Fax: 734-615-6021<br>North Campus Research Complex<br>2800 Plymouth Road, Building 200<br>Ann Arbor, MI 48109-2800</div></li>');return a}function printHelpBtn(){var a=('<a href="#"  onClick="MM_openBrWindow(\'includes/help.htm\',\'\',\'scrollbars=yes,resizable=yes,width=908,height=625\')"  id="helpButton" alt="How to use this module"  title="How to use this module">INSTRUCTIONS</a>');return a}function printExpander(b){var a=('<li><a href="#"  id="expander'+b+'" class="expander btn-navbar" style="display:none">expand all</a></li>');return a}function nextPage(a){if(testing){console.log("JJK znThisPage="+a+", znNextPage"+znNextPage)}var c=(parseFloat(a)+1);if(c==ps.length){if(ps[a].url=="scorePage.htm"){var b={itm:a};getContent(b)}else{alert("You are on the last page! Use the navigation buttons on the left to complete the module.")}return}if(testing){console.log("GFF  itm= newPage="+c)}var d={itm:c};ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"navbutton id "+c+" |  page/"+justpathnofilename+"/"+ps[c].url});ga("send",{hitType:"pageview",page:justpathnofilename+"/"+ps[c].url,title:ps[c].buttonTitle});getContent(d)}function prevPage(a){var b=(parseFloat(a)-1);if(b<0){alert("You are on the first page!");return}if(testing){console.log("GDD pageIndex="+b+", znThisPage="+znThisPage)
}var c={itm:b};ga("send",{hitType:"event",eventCategory:"button",eventAction:"click",eventLabel:"PreviousPage: "+b+" |  page/"+justpathnofilename+"/"+ps[b].url});ga("send",{hitType:"pageview",page:justpathnofilename+"/"+ps[b].url,title:ps[b].buttonTitle});getContent(c)}function findPageArray(){if(typeof PageArray!="undefined"){thePageArray=PageArray;if(testing){console.log("CCF thePageArray="+thePageArray+", thePageArray.length="+thePageArray.length)}return thePageArray}else{if(pcounter<10){pcounter++;if(testing){console.log("CDC pcounter="+pcounter)}setTimeout("findPageArray()",250)}else{alert(counter+': I couldn\'t find the list of pages. ("pageArray"). Please reload the window. If you continue to see this message, please let the MLearning team know: mlearning@umich.edu')}}return}function writeNewPageNo(){var c=(parseFloat(znThisPage)+1)/znPages;var a=Math.round(c*92);var d=parseFloat(znPages);var b='<div id="spaceHolder"><div id="utilitiesBar"><div id="progressBarContainer"><div align="left" id="progressBarHolder"><img src="images/img/progressBarBG.jpg" width="'+a+'" height="13" /></div><div id="pageNumHolder">PAGE '+(parseFloat(znThisPage)+1)+" of "+d+'</div><div id="printBtn" class="test"><div class="icn-print"></div><form id="pdfForm" name="pdfForm" target="_blank" method="post" action="https://mlearningcontent2.med.umich.edu/PDFGenerator/default.aspx"></form></div></div></div><div>';$(b).prependTo("#footer")}function writePrintForm(c){var e=window.location.pathname.indexOf("/ct/");var b=window.location.pathname.substring(e+4);var a="https://mlearningcontent2.med.umich.edu/gsa/"+b;var d=('<input name="uPath" type="hidden" value="'+a+'"/>\n');d+=('<input name="uUrl" type="hidden" value="'+c+'"/>');document.getElementById("pdfForm").innerHTML=d;$(".icn-print").click(function(){$("#pdfForm").submit()})}function wipePageNo(){if($("#spaceHolder").length>0){$("#spaceHolder").remove()}}function wipeNavBar(){$("#sidebar-left").children().remove()}function chooseButtonSet(){var a=ns.localStorage.get("moduleVars");var d=a.moduletype;if(testing){console.log("in chooseButtonSet moduletype="+d)}if(typeof customBtnArray=="undefined"){switch(d){case 0:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 1:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"Next Section",hideEndBtn:false,endTxt:"Mark Complete"});break;case 2:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 3:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"-"});break;case 4:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Go to Quiz",hideEndBtn:true,endTxt:"-"});break;case 5:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"-",hideEndBtn:true,endTxt:"-"});break;case 6:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:false,endTxt:"Mark Section Complete"});break;case 7:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:false,nxtTxt:"-",hideEndBtn:false,endTxt:"Mark Complete"});break;case 8:btnArray=new Array({hideSuspendBtn:false,suspendTxt:"Finish Later",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:false,endTxt:"Mark Complete"});break;case 9:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"-",showNxtBtn:true,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"-"});break;default:btnArray=new Array({hideSuspendBtn:true,suspendTxt:"Finish Later",showNxtBtn:false,nxtTxt:"Next Section",hideEndBtn:true,endTxt:"Mark Complete"});break}}else{var k=customBtnArray;for(var i=0;i<k.length;i++){var c=k[i].href,g=k[i].title,j=k[i].txt,h=k[i].clk,e=k[i].cls,f=k[i].id}}return btnArray}function printScormButtons(){var d="";var b,c,e;if(APIOK()){chooseButtonSet();if(testing){console.log("pageNavigation AAA writing buttons, btnArray[0].suspendTxt="+btnArray[0].suspendTxt)}if(btnArray[0].showNxtBtn){d+=writeNextButton(btnArray[0].nxtTxt)}if(!btnArray[0].hideSuspendBtn){d+=writeSuspendButton(btnArray[0].suspendTxt)}if(!btnArray[0].hideEndBtn){d+=writeEndButton(btnArray[0].endTxt)}return d}else{var a='<div id="apiIndicator">';a+='<div id="modeExplanationContainer" style="display:none;">You are in Unscored Mode because you did not enroll in this module through MLearning.</br>No score will be recorded in your MLearning Transcript but you may use these materials for reference. </div></div>';a+='<li><a href="images/img/searchToEnrollInstructions.pdf" target="_blank" id="showUnscoredExample"  onMouseDown="event.cancelBubble=true;">see Example</a></li>';return a}}function bookmarkAlert(){if(testing){console.log("XDEin bookmarkAlert")}if((typeof thePageArray[0].askedbookmark=="undefined")&&(znPages>15)){if(((znThisPage)==1)&&(SCOGetValue("cmi.core.lesson_location")!="")){thePageArray[0].askedbookmark=true;
var a=confirm("You have a saved bookmark. Would you like to return to that location now?");if(a){getContent(SCOGetValue("cmi.core.lesson_location"))}else{}}}}function writeEndButton(a){var b=(b?b:a);var c=("<li><a href='#'  class='endLesson' id='endLesson' title='Mark this lesson complete' onclick='closingActions(this.id);return false;'>"+b+"</a></li>");return c}function writeNextButton(b){var c=(c?c:b);var a=("<li><a href='#'  class='nextLesson'  id='nextLesson' title='Mark this lesson complete' onclick='nextActions(this.id);return false;'>"+c+"</a></li>");return a}function writeSuspendButton(a){var b=(b?b:a);var c=("<li><a href='#' class='suspendLesson' id='suspendLesson'  title='Stop for now and come back later to finish' onclick='suspendActions(this.id);return false;'>"+b+"</a></li>");return c}function nextActions(a){if(typeof a!="undefined"){showSpinner(a)}g_gbGoingToNextSco=true;ns.localStorage.removeAll();SCOSetValue("cmi.core.lesson_status","completed");SCOSetValue("cmi.core.exit","");SCOSaveData();SCOFinish()}function closingActions(a){if(APIOK()){if(typeof a!="undefined"){showSpinner(a)}SCOSetValue("cmi.core.lesson_status","completed");SCOSetValue("cmi.core.exit","");SCOSaveData();if(cookieVrsn){SetCookie("cVrsn","",-1)}ns.localStorage.removeAll();SCOFinish()}}function suspendActions(a){if(APIOK()){if(typeof a!="undefined"){showSpinner(a)}ns.localStorage.removeAll();SCOSetValue("cmi.core.lesson_status","incomplete");SCOSetValue("cmi.core.exit","suspend");g_bIsSuspended=true;SCOCommit();SCOFinish()}}function showSpinner(a){$("#"+a).html('<img src="images/img/ajax-loader-1.gif" class="spinnerImg">')}function quizStart(b){var m=typeof b.type!="undefined"?b.type:"Q";var p=b.quiz;var f=b.qindex;var c=b.qurl;var s=(typeof b.quizserver!="undefined")&&(b.quizserver!="")?b.quizserver:null;var j;dialogCloseTrigger="";if(m=="C"){m=(c.indexOf("captivate6Wrap")!=-1)?"C6":"C"}switch(m){case"Q":if(testing){console.log("ABA quiztype="+m+" quiz="+p+" qindex="+f+", document.location.href="+document.location.href)}if(trackingmode=="scorm"&&APIOK()){currentloc=document.location.href;if(s!=null){switch(s){case"pr":j="https://mlearningquiz5.med.umich.edu";console.log("case pr");break;case"au":j="http://uhqmkappsts1.umhs.med.umich.edu";break;case"dv":j="http://uhqmkappsdv1.umhs.med.umich.edu";break;default:j="https://mlearningquiz5.med.umich.edu"}}else{console.log("FTR window.location.hostname"+window.location.hostname);switch(window.location.hostname){case"mlearningcontent2.med.umich.edu":j="https://mlearningquiz5.med.umich.edu";console.log("aa");break;case"mlearningqa.med.umich.edu":j="https://mlearningquiz5.med.umich.edu";console.log("bb");break;case"trainingportal.med.umich.edu":j="https://mlearningquiz5.med.umich.edu";console.log("cc");break;default:j="https://mlearningquiz5.med.umich.edu";console.log("ff")}}var k=currentloc.lastIndexOf("/");currentloc=currentloc.slice(0,k);currentloc=currentloc+"/perceptionQuizWrap.htm";var u=sName.lastIndexOf("_");var d;if(u!=-1){d=sName.slice(u+1);if(testing){console.log("underscore="+u+" sName="+sName+" participantID= "+d)}}else{d=sName}if(testing){console.log("GPE currentloc= "+currentloc+"p3.qurl"+b.qurl);console.log("GPF documentlocation= "+j+"/perception5/session.php?session="+p+"&call=onepagewrap&name="+d+"&details="+sDetails+"&home="+currentloc+"&itm="+f)}document.location=j+"/perception5/session.php?session="+p+"&call=onepagewrap&name="+d+"&details="+sDetails+"&home="+currentloc+"&itm="+f}else{alert("You need to launch the module from your Learning Plan in order to complete the quiz. Redirecting to the next page ");nextPage(f)}break;case"U":if(testing){console.log("ggg quiztype="+m+" quiz="+p+" qindex="+f+", document.location.href="+document.location.href)}if(testing){console.log("ggg qurl="+c)}if(trackingmode=="scorm"&&APIOK()){currentloc=document.location.href;var h;if(c.lastIndexOf("qualtricsWrap.htm?href=")!=-1){h=c.slice(23)}else{h=c}var k=currentloc.lastIndexOf("/");var i=currentloc.slice(0,k);currentloc=i+"/qualtricsQuizWrap.htm";var a=i+"/includes/qualtricsRedirector.htm";encredir=encodeURIComponent(a);var q=currentloc+"&itm="+f;var e=encodeURIComponent(q);h+="&id="+sName+"&url="+e+"&fn="+sDetails+"&obj="+p+"&redir="+encredir;document.location=h}else{alert("You need to launch the module from your Learning Plan in order to complete the quiz. Redirecting to the next page");nextPage(f)}break;case"I":var v={itm:f};getContent(v);break;case"C":break;case"C6":var o='<div id="CaptivateContent" style="height:100%;width:100%;"></div><div id="messageDiv" style="display:none;padding:24px;width:659px;margin:auto;font:18px Arial, Helvetica, sans-serif;"></div><div id="finishedDiv" style="display:none;padding:24px;width:659px;margin:auto;font:18px Arial, Helvetica, sans-serif;">This quizlet has been completed.<br /><a href="javascript:nextPage();">Continue to next page of module</a></div><div id="output"></div>';$("#content div#div6").html("loading...");if(trackingmode=="scorm"&&APIOK()){var l={wmode:"transparent",scale:"showall"};
var t=c.split("=")[1].split("&")[0];var r=c.split("w=")[1].split("&")[0];var g=c.split("h=")[1].split("&")[0];if($("#dialog-captivate").length==0){$("body").append('<div id="dialog-captivate" style="display:none; z-index: 999;"></div>')}openSwf(t);$("#content div#div6").html('If you are not redirected after completing or closing quiz, choose another page from menu at left or <a onclick="nextPage('+b.qindex+')" style="text-decoration:underline">click here to go to next page</a>.')}else{alert("You need to launch the module from your Learning Plan in order to complete the quiz. Redirecting to the next page");nextPage(f)}break;case"H":document.location=c+"?p="+c+"&itm="+f+"&obj="+p+"&h="+thispath;break;default:}}function turnOnMsg(){$("#myModal").modal("show")}function turnOffMsg(){$("#myModal").modal("hide")}function writeHeaderTitle(){$("#hdrTitle>h1").html(ms.headerTitle)}function getMyData(){cp=document.CaptivateContent;bMax=cp.cpEIGetValue("m_VarHandle.cpQuizInfoTotalQuizPoints");bScore=cp.cpEIGetValue("m_VarHandle.cpQuizInfoPointsscored");aPercentScore=bMax!=0?bScore/bMax:1;bPercentScore=aPercentScore*100;if(testing){console.log("bMax="+bMax+", bScore"+bScore+", bPercentScore= "+bPercentScore)}if(APIOK()){qPage=ps[znThisPage];var a="C"+qPage.quiz;var b=1;$("#content div#div6").html("Storing your score. If you are not redirected after completing or closing quiz, choose another page from menu at left.");closeModalDialog("#dialog-captivate");MarkCap6ObjectiveDone(bScore,bMax,a);ps[znThisPage].qScore=bScore;ps[znThisPage].qMax=bMax;ns.localStorage.set("pageArray",ps);nextPage(znThisPage)}}function MarkCap6ObjectiveDone(c,a,b){if(testing){console.log("In MarkObjectiveDone: score = "+c+", max="+a+", objectiveID= "+b)}SCOSetObjectiveData(b,"status","completed");SCOSetObjectiveData(b,"score.raw",bScore);SCOSetObjectiveData(b,"score.max",bMax);SCOCommit()}function openSwf(b){if($("#dialog-captivate").length==0){$("body").append('<div id="dialog-captivate" style="display:none; z-index: 999;"></div>')}var a={wmode:"transparent",scale:"showall"};var c=$(window).height();var f=$(window).width();var e='<div id="CaptivateContent" style="" class="span10"></div>';$("#dialog-captivate").dialog({close:true,closeText:"CLOSE",height:c,width:f,modal:true});var d=$("div[aria-describedby='dialog-captivate'] span.ui-icon-closethick");if($("#closeTitle").length==0){d.parent().before('<span style="float:right;margin-right:18px;font-weight:normal;font-size:small;" id="closeTitle" onmousedown=" $( \'#dialog-captivate\' ).dialog(\'close\')">'+$("#dialog-captivate").dialog("option","closeText")+"</span>")}$("#dialog-captivate").html(e);openModalDialog("#dialog-captivate");swfobject.embedSWF(b,"CaptivateContent","95%","99%","9","expressInstall.swf",a,null,null);$("#dialog-captivate").dialog("option","position",{my:"center",at:"center",of:window})};